// ANTRENMAN EKLEME
async function addEntry() {
    const password = prompt("Antrenman girmek için admin şifresi:");
    if (!password) return;

    const data = {
        // Buradaki ID'leri kendi eski formundaki input ID'leri ile aynı yap
        date: document.getElementById('date').value,
        exercise: document.getElementById('exercise').value,
        sets: document.getElementById('sets').value,
        reps: document.getElementById('reps').value,
        weight: document.getElementById('weight').value
    };

    const res = await fetch('/api/entries', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json', 'Authorization': password },
        body: JSON.stringify(data)
    });
    if (res.status === 403) alert("Şifre Yanlış!");
    else location.reload();
}

// KİLO EKLEME (Senin Teman İçin)
async function addWeight() {
    const password = prompt("Kilo girmek için admin şifresi:");
    if (!password) return;

    const data = {
        date: document.getElementById('weightDate').value,
        kg: document.getElementById('weightKg').value
    };

    const res = await fetch('/api/weights', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json', 'Authorization': password },
        body: JSON.stringify(data)
    });
    if (res.status === 403) alert("Şifre Yanlış!");
    else location.reload();
}

// NOT EKLEME (Şifresiz, Ziyaretçiler İçin)
async function addNote() {
    const content = document.getElementById('noteContent').value;
    const date = new Date().toISOString().split('T')[0];
    await fetch('/api/notes', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ date, content })
    });
    location.reload();
}

// ORTAK SİLME FONKSİYONU (Antrenman, Kilo, Not için)
async function deleteData(type, id) {
    const password = prompt("Silmek için admin şifresi:");
    if (!password) return;

    const res = await fetch(`/api/delete/${type}/${id}`, {
        method: 'DELETE',
        headers: { 'Authorization': password }
    });
    if (res.status === 403) alert("Yetkin yok kanka!");
    else location.reload();
}
